function i(l){return{name:l.name,options:l.options||[],isOpen:!1,selectedValue:l.multiple?l.value?[l.value]:[]:l.value,search:"",error:!1,searchable:l.searchable,multiple:l.multiple,get selectedLabel(){if(this.multiple)return this.selectedValue.length?this.options.filter(t=>this.selectedValue.includes(t.value)).map(t=>t.label).join(", "):l.placeholder;if(!this.selectedValue)return l.placeholder;const e=this.options.find(t=>t.value===this.selectedValue);return e?e.label:l.placeholder},get filteredOptions(){return this.options.filter(e=>e.label.toLowerCase().includes(this.search.toLowerCase()))},toggle(){this.isOpen=!this.isOpen},close(){this.isOpen=!1,this.search=""},select(e){if(this.multiple){const t=this.selectedValue,s=t.indexOf(e.value);s===-1?t.push(e.value):t.splice(s,1),this.selectedValue=[...t]}else this.selectedValue=e.value,this.close()},isSelected(e){return this.multiple?this.selectedValue.includes(e.value):e.value===this.selectedValue},init(){l.required&&this.$watch("selectedValue",e=>{this.error=this.multiple?!e.length:!e})}}}window.Alpine?window.Alpine.data("select",i):document.addEventListener("alpine:init",()=>{window.Alpine.data("select",i)});
